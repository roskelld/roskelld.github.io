"use strict";class WebSite{constructor(){this.split="\xB7",this.itemURI="?";const a=data.filter(a=>"game"===a.type),b=data.filter(a=>"app"===a.type),c=data.filter(a=>"project"===a.type);this.fader=new FadeInOnScreen,this.gameCardGenerator(a,"games"),this.applicationCardGenerator(b,"applications"),this.projectCardGenerator(c,"projects");const d=document.querySelector("#stuff"),e=document.querySelectorAll(".sidenav");this.sideNavOptions={},this.sideNavInstances=M.Sidenav.init(e,this.sideNavOptions);const f=document.querySelectorAll(".collapsible");this.collapsibleOptions={},this.collapsibleInstances=M.Collapsible.init(f,this.collapsibleOptions),this.nav={header:document.querySelector("#nav-header"),buttons:{home:document.querySelector("#home-menu-btn"),services:document.querySelector("#services-menu-btn"),games:document.querySelector("#games-menu-btn"),applications:document.querySelector("#applications-menu-btn"),projects:document.querySelector("#projects-menu-btn"),bio:document.querySelector("#bio-menu-btn"),logo:document.querySelector("#logo"),sidenav:document.querySelector("#sidenav-btn"),all:document.querySelectorAll(".menu-btn")},cards:{games:document.querySelector(`#games`).querySelector(".contentlinks").querySelectorAll(".card-link"),applications:document.querySelector(`#applications`).querySelector(".contentlinks").querySelectorAll(".card-link"),projects:document.querySelector(`#projects`).querySelector(".contentlinks").querySelectorAll(".card-link"),all:document.querySelectorAll(".card-link")}},this.content={main:document.querySelector("main"),panels:document.querySelectorAll(".product-panel"),background:document.querySelectorAll(".background-image"),fullpage:document.querySelectorAll(".fullpage")},this.setMenuLinks(),this.setCardLinks()}init(){window.addEventListener("hashchange",()=>{this.openHashLocation()}),this.openHashLocation(),window.addEventListener("resize",Utils.debounce(()=>this.setFullPagePanelHeight(),300)),window.addEventListener("scroll",a=>{a.preventDefault(),this.setLogoScreenPosition()},!1),this.nav.buttons.sidenav.addEventListener("click",()=>{this.sideNavInstances[0].open()},!1),this.setLogoScreenPosition(),this.fader.init()}openHashLocation(){const a=window.location.hash;let b="";if(""!==a){const c=a.includes(this.itemURI)?a.slice(1,a.indexOf(this.itemURI)):a.slice(1,a.length);if(this.selectTab(c),b+=`#${c}`,window.scrollTo({top:0,left:0,behavior:"auto"}),a.includes(this.itemURI)){const d=a.slice(a.indexOf(this.itemURI)+1,a.length);this.selectCard(d,c),b+=`?${d}`}}else this.selectTab("home")}onTabSelected(a){(("undefined"==typeof a||null===a)&&(a=window.location.hash.substr(1)),a!==this.oldTab)&&(this.oldTab=a,window.scrollTo({top:0,left:0,behavior:"auto"}),s.setLogoScreenPosition(),s.fader.reset(),"undefined"==typeof s.nav.cards[a]||"undefined"==typeof s.nav.cards[a][0]||s.selectCard(s.nav.cards[a][0].id.replace("card-",""),a))}selectTab(a){if("undefined"!=typeof a&&""!=a){const b=document.querySelectorAll(".content-page");b.forEach(a=>a.classList.add("hide"));const c=document.querySelector(`#${a}`);null===c?(this.selectTab("home"),window.location.hash="home"):(c.classList.remove("hide"),this.nav.buttons.all.forEach(a=>a.classList.remove("active")),this.nav.buttons[a].classList.add("active"),this.onTabSelected(a))}}selectCard(a,b="all"){const c=Array.from(s.nav.cards[b]),d=c.find(b=>`card-${a}`===b.id);if("undefined"!=typeof d){this.nav.cards.all.forEach(a=>a.classList.remove("selected")),d.classList.add("selected");const b=document.querySelectorAll(".content-panel");b.forEach(a=>a.classList.add("hide")),document.querySelector(`#content-${a}`).classList.remove("hide")}}setCardLinks(){this.nav.cards.all.forEach(a=>{a.addEventListener("click",()=>{this.selectCard(a.dataset.target);const b=window.location.hash,c=b.includes("?")?b.substr(0,b.indexOf("?")):b,d=`${c}${this.itemURI}${a.dataset.target}`;window.history.pushState({id:`#${d}`},"Dean Roskell",`${d}`)},!1)})}setMenuLinks(){this.nav.buttons.all.forEach(a=>{a.addEventListener("click",()=>{this.selectTab(a.dataset.target),window.history.pushState({id:`#${a.dataset.target}`},"Dean Roskell",`/#${a.dataset.target}`)},!1)})}updateScroller(){console.log(window.s.scroller),window.s.scroller.recalculate()}setFullPagePanelHeight(){this.content.fullpage.forEach(a=>{a.style.minHeight=`${window.innerHeight}px`})}setLogoScreenPosition(){const a=document.scrollingElement.scrollHeight-document.scrollingElement.getBoundingClientRect().top+document.scrollingElement.getBoundingClientRect().height;1<=a?this.nav.buttons.logo.classList.add("off-right"):this.nav.buttons.logo.classList.remove("off-right")}generateTextCard(a){const b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("p");return b.classList.add("col","s12","m12","l3","xl2"),c.classList.add("card","square","card-link","z-depth-0","valign-wrapper","no-select"),c.id=`card-${a.id}`,c.dataset.target=a.id,d.classList.add("title"),d.textContent=a.title,c.appendChild(d),b.appendChild(c),b}generateCard(a){const b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("img");if(b.classList.add("col","s12","m12","l6","xl3"),c.classList.add("card","card-link","z-depth-0"),c.id=`card-${a.id}`,c.dataset.target=a.id,d.classList.add("card-image"),e.src=`img/product/${a.id}.png`,e.title=a.title,d.appendChild(e),"N/A"===a.release){const a=document.createElement("span");a.classList.add("unreleased"),a.textContent="Unreleased",d.appendChild(a)}return c.appendChild(d),b.appendChild(c),b}generateMobileLink(b,c){const d=document.createElement("li"),e=document.createElement("img"),f=document.createElement("a");return d.classList.add("height-40px"),f.classList.add("sidenav-link","bold","soft-grey-text-2"),f.href=`#${c}?${b.id}`,f.textContent=`${b.title}`,f.onclick=()=>{s.sideNavInstances[0].close()},e.src=`img/product/${b.id}.png`,e.classList.add("img-icon"),d.appendChild(e),d.appendChild(f),d}gameCardGenerator(a,b){const c=document.querySelector(`#${b}`),d=c.querySelector(".contentlinks"),e=c.querySelector(".contentdetail"),f=document.querySelector("#mobile-games-links");a.forEach(a=>{d.appendChild(this.generateCard(a)),f.appendChild(this.generateMobileLink(a,b));const c=document.createElement("div");c.id=`content-${a.id}`,c.classList.add("section","content-panel","hide"),c.appendChild(this.createTitle(a.title)),c.appendChild(this.createGroupText(a.platforms,"Platform"));const g=this.createRow();g.appendChild(this.createItemText(a.genre,"Genre")),g.appendChild(this.createItemText(a.release,"Release")),c.appendChild(g);const h=this.createRow();h.appendChild(this.createItemText(a.company,"Company")),h.appendChild(this.createItemText(a.publisher,"Publisher")),c.appendChild(h),c.appendChild(this.createGroupText(a.role,"Role")),c.appendChild(this.createGroupText(a.work,"Responsibility")),c.appendChild(this.createGroupText(a.technology,"Technology"));const i=this.createRow();i.appendChild(this.createItemText(a.team_size,"Team Size")),i.appendChild(this.createItemText(a.dev_time,"Dev Time")),c.appendChild(i);const j=this.createRow();if(a.trailer&&j.appendChild(this.createVideoLink(a.trailer,"Trailer")),a.website&&j.appendChild(this.createLink(a.website,"Website")),c.appendChild(j),a.description){const b=this.createRow();b.appendChild(this.createDivider()),b.appendChild(this.createBlockText(a.description,"Description")),c.appendChild(b)}e.appendChild(c)})}applicationCardGenerator(a,b){const c=document.querySelector(`#${b}`),d=c.querySelector(".contentlinks"),e=c.querySelector(".contentdetail"),f=document.querySelector("#tab-container"),g=document.querySelector("#mobile-applications-links");a.forEach(a=>{d.appendChild(this.generateCard(a)),g.appendChild(this.generateMobileLink(a,b));const c=document.createElement("div");c.id=`content-${a.id}`,c.classList.add("section","content-panel"),c.appendChild(this.createTitle(a.title)),c.appendChild(this.createGroupText(a.platforms,"Platform"));const f=this.createRow();f.appendChild(this.createItemText(a.genre,"Genre")),f.appendChild(this.createItemText(a.release,"Release")),c.appendChild(f);const h=this.createRow();h.appendChild(this.createItemText(a.company,"Company")),h.appendChild(this.createItemText(a.publisher,"Publisher")),c.appendChild(h),c.appendChild(this.createGroupText(a.role,"Role")),c.appendChild(this.createGroupText(a.work,"Responsibility")),c.appendChild(this.createGroupText(a.technology,"Technology"));const i=this.createRow();i.appendChild(this.createItemText(a.team_size,"Team Size")),i.appendChild(this.createItemText(a.dev_time,"Dev Time")),c.appendChild(i);const j=this.createRow();if(a.trailer&&j.appendChild(this.createVideoLink(a.trailer,"Trailer")),a.website&&j.appendChild(this.createLink(a.website,"Website")),c.appendChild(j),a.description){const b=this.createRow();b.appendChild(this.createDivider()),b.appendChild(this.createBlockText(a.description,"Description")),c.appendChild(b)}e.appendChild(c)})}projectCardGenerator(a,b){const c=document.querySelector(`#${b}`),d=c.querySelector(".contentlinks"),e=c.querySelector(".contentdetail"),f=document.querySelector("#tab-container"),g=document.querySelector("#mobile-projects-links");a.forEach(a=>{d.appendChild(this.generateCard(a)),g.appendChild(this.generateMobileLink(a,b));const c=document.createElement("div");c.id=`content-${a.id}`,c.classList.add("section","content-panel"),c.appendChild(this.createTitle(a.title)),c.appendChild(this.createGroupText(a.platforms,"Platform"));const f=this.createRow();f.appendChild(this.createItemText(a.genre,"Genre")),f.appendChild(this.createItemText(a.release,"Release")),c.appendChild(f);const h=this.createRow();h.appendChild(this.createItemText(a.company,"Company")),c.appendChild(h),c.appendChild(this.createGroupText(a.role,"Role")),c.appendChild(this.createGroupText(a.work,"Responsibility")),c.appendChild(this.createGroupText(a.technology,"Technology"));const i=this.createRow();i.appendChild(this.createItemText(a.team_size,"Team Size")),i.appendChild(this.createItemText(a.dev_time,"Dev Time")),c.appendChild(i);const j=this.createRow();if(a.trailer&&j.appendChild(this.createVideoLink(a.trailer,"Video")),a.website&&j.appendChild(this.createLink(a.website,"Website")),c.appendChild(j),a.description){const b=this.createRow();b.appendChild(this.createDivider()),b.appendChild(this.createBlockText(a.description,"Description")),c.appendChild(b)}e.appendChild(c)})}createTitle(a){const b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div");return b.classList.add("row"),c.classList.add("col","s12"),d.classList.add("soft-grey-text","title","center-align"),d.textContent=a,c.appendChild(d),b.appendChild(c),b}createGroupText(a,b){let c=1<a.length?`${this.split} `:"";a.forEach(b=>{c+=` ${b} `,c+=1<a.length?` ${this.split}`:""});const d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div");return d.classList.add("row"),e.classList.add("col","s12","m3"),f.classList.add("col","s12","m7"),g.classList.add("soft-grey-text","detail-header","right-on-med-and-up"),h.classList.add("soft-grey-text","detail-data"),g.textContent=1<a.length?"y"===b.substring(b.length,b.length-1)?`${b.substring(0,b.length-1)}ies`:`${b}s`:`${b}:`,h.textContent=c,e.appendChild(g),d.appendChild(e),f.appendChild(h),d.appendChild(f),d}createItemText(a,b){const c=document.createElement("div");c.classList.add("col","s6","padding-left-0","padding-right-0");const d=document.createElement("div");d.classList.add("col","s12","m6");const e=document.createElement("div");e.classList.add("col","s12","m6");const f=document.createElement("div");f.classList.add("soft-grey-text","detail-header","right-on-med-and-up"),f.textContent=`${b}:`;const g=document.createElement("div");return g.classList.add("soft-grey-text","detail-data"),g.textContent=a,d.appendChild(f),c.appendChild(d),e.appendChild(g),c.appendChild(e),c}createVideoLink(b,c){const d=document.createElement("div");d.classList.add("col","s6","padding-left-0","padding-right-0");const e=document.createElement("div");e.classList.add("col","s12","m6");const f=document.createElement("div");f.classList.add("col","s12","m6");const g=document.createElement("div");g.classList.add("soft-grey-text","detail-header","right-on-med-and-up"),g.textContent=`${c}:`;const h=document.createElement("div");h.classList.add("soft-grey-text","detail-data");const i=document.createElement("a");return i.href=b,i.innerHTML=`<i class="fas fa-film fa-2x"></i>`,i.target="_none",h.appendChild(i),e.appendChild(g),d.appendChild(e),f.appendChild(h),d.appendChild(f),d}createLink(b,c){const d=document.createElement("div");d.classList.add("col","s6","padding-left-0","padding-right-0");const e=document.createElement("div");e.classList.add("col","s12","m6");const f=document.createElement("div");f.classList.add("col","s12","m6");const g=document.createElement("div");g.classList.add("soft-grey-text","detail-header","right-on-med-and-up"),g.textContent=`Link:`;const h=document.createElement("div");h.classList.add("soft-grey-text","detail-data");const i=document.createElement("a");return i.href=b,i.textContent=c,i.target="_none",h.appendChild(i),e.appendChild(g),d.appendChild(e),f.appendChild(h),d.appendChild(f),d}createBlockText(a,b){const c=document.createElement("div");c.classList.add("col","s12","offset-m2","m8");const d=document.createElement("h3");d.textContent=b;const e=document.createElement("p");return e.innerHTML=a,c.appendChild(d),c.appendChild(e),c}createDivider(){const a=document.createElement("div");return a.classList.add("divider"),a}createRow(){const a=document.createElement("div");return a.classList.add("row"),a}startShhh(){s.introSound.play();const a=document.querySelector("html");a.classList.add("shh");for(let b=0;20>b;b++){const b=document.createElement("div");b.classList.add("pickup"),b.style.left=`${Math.random()*a.clientWidth}px`,b.style.top=`${Math.random()*a.clientHeight}px`,b.textContent="\uD83C\uDF52",this.nav.tabs.games.appendChild(b),b.addEventListener("mouseover",()=>{b.textContent="",s.eatSound.play(),s.score++,console.log(`SCORE: ${s.score}`)},!1)}this.addBaddie()}addBaddie(){const a=document.querySelector("main");for(let b=0;5>b;b++){const b=document.createElement("div");b.classList.add("pickup"),b.style.left=`${Math.random()*a.clientWidth}px`,b.style.top=`${Math.random()*a.clientHeight}px`,b.textContent="\uD83D\uDC80",this.nav.tabs.games.appendChild(b),b.addEventListener("mouseover",()=>{b.textContent="",s.dieSound.play(),console.log("YOU DIED"),console.log(`FINAL SCORE: ${s.score}`),s.score=0,document.querySelector("main").classList.remove("shh")},!1)}}totalGames(){const a=data.filter(a=>"game"===a.type),b=[...new Set(a.map(a=>a.title))];return b}totalPublishedGames(){const a=data.filter(a=>"game"===a.type),b=[...new Set(a.map(a=>{if("N/A"!=a.release)return a.title}))];return b}}class Utils{static debounce(a,b){let c;return function(){clearTimeout(c),c=setTimeout(()=>a.apply(this,arguments),b)}}}class FadeInOnScreen{constructor(){window.addEventListener("scroll",Utils.debounce(()=>this.checkPosition(),50),!1),window.addEventListener("resize",Utils.debounce(()=>this.init(),50),!1)}init(){this.els=document.querySelectorAll(".fadeInOnScreen"),this.windowHeight=window.innerHeight,this.checkPosition()}reset(){this.windowHeight=window.innerHeight,"undefined"!=typeof this.els&&(this.els.forEach(a=>a.classList.replace("fadeInAnimation","fadeInOnScreen")),this.checkPosition())}checkPosition(){"undefined"==typeof this.els||this.els.forEach(a=>{const b=a.getBoundingClientRect().top;-50>=b-this.windowHeight&&a.classList.replace("fadeInOnScreen","fadeInAnimation")})}}const site=new WebSite;document.addEventListener("DOMContentLoaded",function(){setTimeout(()=>{document.querySelector("#loader").classList.remove("loader")},10)},!1),window.s=site,site.init();
